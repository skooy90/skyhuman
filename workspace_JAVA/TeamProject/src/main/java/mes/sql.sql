-- 생산관리 페이지 데모용 추가 데이터 INSERT 스크립트 (Oracle 19c 기준)
-- 주의: 기존 오라클DDL 파일에서 이미 기본 데이터(PRODUCT, CUSTOMER, ORDERS 등)가 생성되므로
-- 여기서는 생산관리 페이지에 특화된 WORK_ORDER, WORK_ORDER_PROCESS 데이터만 추가


더미데이터 1번부 안들어간다......
-- 1) USERS 추가 (WORKERS 테이블 외래키용) - 기존 DDL에 없는 데이터
INSERT INTO USERS (USER_ID, EMPLOYEE_NUMBER, USERNAME, PASSWORD, ROLE, CREATED_AT)
VALUES (1001, 'EMP001', 'kimcs', 'temp123', 'EMPLOYEE', SYSDATE);
INSERT INTO USERS (USER_ID, EMPLOYEE_NUMBER, USERNAME, PASSWORD, ROLE, CREATED_AT)
VALUES (1002, 'EMP002', 'leeyh', 'temp123', 'EMPLOYEE', SYSDATE);
INSERT INTO USERS (USER_ID, EMPLOYEE_NUMBER, USERNAME, PASSWORD, ROLE, CREATED_AT)
VALUES (1003, 'EMP003', 'parkms', 'temp123', 'EMPLOYEE', SYSDATE);
INSERT INTO USERS (USER_ID, EMPLOYEE_NUMBER, USERNAME, PASSWORD, ROLE, CREATED_AT)
VALUES (1004, 'EMP004', 'choijy', 'temp123', 'EMPLOYEE', SYSDATE);

-- 2) WORKERS 추가 (기존 DDL에 없는 데이터)
INSERT INTO WORKERS (WORKER_ID, USER_ID, WORKER_NAME, CURRENT_PROCESS, SKILL_LEVEL, WORK_SHIFT, CREATED_AT)
VALUES (101, 1001, '김철수', '혼합', 'EXPERT', 'DAY', SYSDATE);
INSERT INTO WORKERS (WORKER_ID, USER_ID, WORKER_NAME, CURRENT_PROCESS, SKILL_LEVEL, WORK_SHIFT, CREATED_AT)
VALUES (102, 1002, '이영희', '성형', 'INTERMEDIATE', 'DAY', SYSDATE);
INSERT INTO WORKERS (WORKER_ID, USER_ID, WORKER_NAME, CURRENT_PROCESS, SKILL_LEVEL, WORK_SHIFT, CREATED_AT)
VALUES (103, 1003, '박민수', '건조', 'EXPERT', 'NIGHT', SYSDATE);
INSERT INTO WORKERS (WORKER_ID, USER_ID, WORKER_NAME, CURRENT_PROCESS, SKILL_LEVEL, WORK_SHIFT, CREATED_AT)
VALUES (104, 1004, '최지영', '포장', 'BEGINNER', 'DAY', SYSDATE);

-- 3) WORK_ORDER (작업지시) - 생산관리 페이지용 추가 데이터
-- 기존 ORDERS 테이블의 데이터를 참조하여 WORK_ORDER 생성
INSERT INTO WORK_ORDER (
  WORK_ORDER_ID, ORDER_ID, PRODUCT_ID, WORK_ORDER_NO, WORK_ORDER_TYPE,
  PLANNED_QUANTITY, ACTUAL_QUANTITY, PRIORITY, STATUS,
  PLANNED_START_DATE, PLANNED_END_DATE, ACTUAL_START_DATE, ACTUAL_END_DATE,
  CREATED_BY, CREATED_AT, UPDATED_AT
)
SELECT
  10001, NULL, p.PRODUCT_ID, 'WO-20250120-001', 'PRODUCTION',
  100, 20, 'NORMAL', 'IN_PROGRESS',
  TO_DATE('2025-01-20 09:00', 'YYYY-MM-DD HH24:MI'), TO_DATE('2025-01-21 18:00', 'YYYY-MM-DD HH24:MI'),
  TO_DATE('2025-01-20 09:10', 'YYYY-MM-DD HH24:MI'), NULL,
  1001, SYSDATE, SYSDATE
FROM PRODUCT p WHERE p.PRODUCT_NAME = '오이 천연비누';

INSERT INTO WORK_ORDER (
  WORK_ORDER_ID, ORDER_ID, PRODUCT_ID, WORK_ORDER_NO, WORK_ORDER_TYPE,
  PLANNED_QUANTITY, ACTUAL_QUANTITY, PRIORITY, STATUS,
  PLANNED_START_DATE, PLANNED_END_DATE, ACTUAL_START_DATE, ACTUAL_END_DATE,
  CREATED_BY, CREATED_AT, UPDATED_AT
)
SELECT
  10002, NULL, p.PRODUCT_ID, 'WO-20250120-002', 'PRODUCTION',
  150, 0, 'NORMAL', 'PLANNED',
  TO_DATE('2025-01-20 10:30', 'YYYY-MM-DD HH24:MI'), TO_DATE('2025-01-21 20:00', 'YYYY-MM-DD HH24:MI'),
  NULL, NULL,
  1001, SYSDATE, SYSDATE
FROM PRODUCT p WHERE p.PRODUCT_NAME = '오이 각질제거비누';

INSERT INTO WORK_ORDER (
  WORK_ORDER_ID, ORDER_ID, PRODUCT_ID, WORK_ORDER_NO, WORK_ORDER_TYPE,
  PLANNED_QUANTITY, ACTUAL_QUANTITY, PRIORITY, STATUS,
  PLANNED_START_DATE, PLANNED_END_DATE, ACTUAL_START_DATE, ACTUAL_END_DATE,
  CREATED_BY, CREATED_AT, UPDATED_AT
)
SELECT
  10003, NULL, p.PRODUCT_ID, 'WO-20250120-003', 'PRODUCTION',
  80, 75, 'NORMAL', 'IN_PROGRESS',
  TO_DATE('2025-01-20 08:00', 'YYYY-MM-DD HH24:MI'), TO_DATE('2025-01-20 18:00', 'YYYY-MM-DD HH24:MI'),
  TO_DATE('2025-01-20 08:05', 'YYYY-MM-DD HH24:MI'), NULL,
  1001, SYSDATE, SYSDATE
FROM PRODUCT p WHERE p.PRODUCT_NAME = '오이 수축비누';

-- 4) WORK_ORDER_PROCESS (작업지시-공정 진행) - 생산관리 페이지용 핵심 데이터
INSERT INTO WORK_ORDER_PROCESS (
  WORK_ORDER_PROCESS_ID, WORK_ORDER_ID, PROCESS_SEQUENCE, PROCESS_NAME, PROCESS_CODE,
  PLANNED_QUANTITY, ACTUAL_QUANTITY, STANDARD_TIME, ACTUAL_TIME,
  EQUIPMENT_ID, EQUIPMENT_NAME, STATUS, START_TIME, END_TIME, CREATED_AT
) VALUES (
  50001, 10001, 1, '혼합', 'MIX',
  100, 100, 60, 55,
  'EQ001', '혼합기 A', 'COMPLETED',
  TO_DATE('2025-01-20 09:10', 'YYYY-MM-DD HH24:MI'), TO_DATE('2025-01-20 10:00', 'YYYY-MM-DD HH24:MI'),
  SYSDATE
);

INSERT INTO WORK_ORDER_PROCESS (
  WORK_ORDER_PROCESS_ID, WORK_ORDER_ID, PROCESS_SEQUENCE, PROCESS_NAME, PROCESS_CODE,
  PLANNED_QUANTITY, ACTUAL_QUANTITY, STANDARD_TIME, ACTUAL_TIME,
  EQUIPMENT_ID, EQUIPMENT_NAME, STATUS, START_TIME, END_TIME, CREATED_AT
) VALUES (
  50002, 10001, 2, '성형', 'FORM',
  100, 20, 90, NULL,
  'EQ002', '성형기 B', 'IN_PROGRESS',
  TO_DATE('2025-01-20 10:10', 'YYYY-MM-DD HH24:MI'), NULL,
  SYSDATE
);

INSERT INTO WORK_ORDER_PROCESS (
  WORK_ORDER_PROCESS_ID, WORK_ORDER_ID, PROCESS_SEQUENCE, PROCESS_NAME, PROCESS_CODE,
  PLANNED_QUANTITY, ACTUAL_QUANTITY, STANDARD_TIME, ACTUAL_TIME,
  EQUIPMENT_ID, EQUIPMENT_NAME, STATUS, START_TIME, END_TIME, CREATED_AT
) VALUES (
  50003, 10003, 1, '혼합', 'MIX',
  80, 80, 60, 45,
  'EQ001', '혼합기 A', 'COMPLETED',
  TO_DATE('2025-01-20 08:05', 'YYYY-MM-DD HH24:MI'), TO_DATE('2025-01-20 08:50', 'YYYY-MM-DD HH24:MI'),
  SYSDATE
);

INSERT INTO WORK_ORDER_PROCESS (
  WORK_ORDER_PROCESS_ID, WORK_ORDER_ID, PROCESS_SEQUENCE, PROCESS_NAME, PROCESS_CODE,
  PLANNED_QUANTITY, ACTUAL_QUANTITY, STANDARD_TIME, ACTUAL_TIME,
  EQUIPMENT_ID, EQUIPMENT_NAME, STATUS, START_TIME, END_TIME, CREATED_AT
) VALUES (
  50004, 10003, 3, '건조', 'DRY',
  80, 75, 120, NULL,
  'EQ003', '건조기 C', 'IN_PROGRESS',
  TO_DATE('2025-01-20 09:00', 'YYYY-MM-DD HH24:MI'), NULL,
  SYSDATE
);

-- 5) WORK_ORDER_WORKER (작업자 할당) - 생산관리 페이지용 작업자 할당 데이터
INSERT INTO WORK_ORDER_WORKER (
  WORK_ORDER_WORKER_ID, WORK_ORDER_ID, WORK_ORDER_PROCESS_ID, WORKER_ID,
  ROLE, ASSIGNED_DATE, START_TIME, END_TIME, STATUS, CREATED_AT
) VALUES (
  60001, 10001, 50001, 101,
  'OPERATOR', SYSDATE, TO_DATE('2025-01-20 09:10', 'YYYY-MM-DD HH24:MI'), TO_DATE('2025-01-20 10:00', 'YYYY-MM-DD HH24:MI'), 'COMPLETED', SYSDATE
);

INSERT INTO WORK_ORDER_WORKER (
  WORK_ORDER_WORKER_ID, WORK_ORDER_ID, WORK_ORDER_PROCESS_ID, WORKER_ID,
  ROLE, ASSIGNED_DATE, START_TIME, END_TIME, STATUS, CREATED_AT
) VALUES (
  60002, 10001, 50002, 102,
  'OPERATOR', SYSDATE, TO_DATE('2025-01-20 10:10', 'YYYY-MM-DD HH24:MI'), NULL, 'IN_PROGRESS', SYSDATE
);

INSERT INTO WORK_ORDER_WORKER (
  WORK_ORDER_WORKER_ID, WORK_ORDER_ID, WORK_ORDER_PROCESS_ID, WORKER_ID,
  ROLE, ASSIGNED_DATE, START_TIME, END_TIME, STATUS, CREATED_AT
) VALUES (
  60003, 10003, 50004, 103,
  'OPERATOR', SYSDATE, TO_DATE('2025-01-20 09:00', 'YYYY-MM-DD HH24:MI'), NULL, 'IN_PROGRESS', SYSDATE
);

-- ========================================
-- 6) RAW_SEMI_BOM_LOT (원자재→반제품 BOM_LOT) - 테스트용 데이터
-- ========================================
-- 기존 데이터를 참조하여 연결된 값들만 사용
INSERT INTO RAW_SEMI_BOM_LOT (
    RAW_SEMI_BOM_LOT_ID, RAW_SEMI_BOM_ID, RAW_LOT_ID, SEMI_LOT_ID,
    PLANNED_QUANTITY, ACTUAL_QUANTITY, VARIANCE, CREATED_AT
)
SELECT 
    70001, rsb.RAW_SEMI_BOM_ID, rml.RAW_LOT_ID, sfl.SEMI_LOT_ID,
    100.0, 98.5, -1.5, SYSDATE
FROM RAW_TO_SEMI_BOM rsb, RAW_MATERIAL_LOT rml, SEMI_FINISHED_LOT sfl
WHERE rsb.PARENT_ID = (SELECT PRODUCT_ID FROM PRODUCT WHERE PRODUCT_NAME = '오이 비누 베이스')
  AND rsb.CHILD_ID = (SELECT PRODUCT_ID FROM PRODUCT WHERE PRODUCT_NAME = '신선 오이')
  AND rml.PRODUCT_ID = (SELECT PRODUCT_ID FROM PRODUCT WHERE PRODUCT_NAME = '신선 오이')
  AND sfl.PRODUCT_ID = (SELECT PRODUCT_ID FROM PRODUCT WHERE PRODUCT_NAME = '오이 비누 베이스')
  AND ROWNUM = 1;

-- ========================================
-- 7) SEMI_FINISHED_BOM_LOT (반제품→완제품 BOM_LOT) - 테스트용 데이터
-- ========================================
INSERT INTO SEMI_FINISHED_BOM_LOT (
    SEMI_FINISHED_BOM_LOT_ID, SEMI_FINISHED_BOM_ID, SEMI_LOT_ID, FINISHED_LOT_ID,
    PLANNED_QUANTITY, ACTUAL_QUANTITY, VARIANCE, CREATED_AT
)
SELECT 
    80001, sfb.SEMI_FINISHED_BOM_ID, sfl.SEMI_LOT_ID, fpl.FINISHED_LOT_ID,
    50.0, 48.5, -1.5, SYSDATE
FROM SEMI_TO_FINISHED_BOM sfb, SEMI_FINISHED_LOT sfl, FINISHED_PRODUCT_LOT fpl
WHERE sfb.PARENT_ID = (SELECT PRODUCT_ID FROM PRODUCT WHERE PRODUCT_NAME = '오이 천연비누')
  AND sfb.CHILD_ID = (SELECT PRODUCT_ID FROM PRODUCT WHERE PRODUCT_NAME = '오이 비누 베이스')
  AND sfl.PRODUCT_ID = (SELECT PRODUCT_ID FROM PRODUCT WHERE PRODUCT_NAME = '오이 비누 베이스')
  AND fpl.PRODUCT_ID = (SELECT PRODUCT_ID FROM PRODUCT WHERE PRODUCT_NAME = '오이 천연비누')
  AND ROWNUM = 1;

INSERT INTO SEMI_FINISHED_BOM_LOT (
    SEMI_FINISHED_BOM_LOT_ID, SEMI_FINISHED_BOM_ID, SEMI_LOT_ID, FINISHED_LOT_ID,
    PLANNED_QUANTITY, ACTUAL_QUANTITY, VARIANCE, CREATED_AT
)
SELECT 
    80002, sfb.SEMI_FINISHED_BOM_ID, sfl.SEMI_LOT_ID, fpl.FINISHED_LOT_ID,
    60.0, 62.3, 2.3, SYSDATE
FROM SEMI_TO_FINISHED_BOM sfb, SEMI_FINISHED_LOT sfl, FINISHED_PRODUCT_LOT fpl
WHERE sfb.PARENT_ID = (SELECT PRODUCT_ID FROM PRODUCT WHERE PRODUCT_NAME = '오이 각질제거비누')
  AND sfb.CHILD_ID = (SELECT PRODUCT_ID FROM PRODUCT WHERE PRODUCT_NAME = '오이 비누 베이스')
  AND sfl.PRODUCT_ID = (SELECT PRODUCT_ID FROM PRODUCT WHERE PRODUCT_NAME = '오이 비누 베이스')
  AND fpl.PRODUCT_ID = (SELECT PRODUCT_ID FROM PRODUCT WHERE PRODUCT_NAME = '오이 각질제거비누')
  AND ROWNUM = 1;

-- ========================================
-- 8) PASSWORD_HISTORY (비밀번호 변경 이력) - 테스트용 데이터
-- ========================================
INSERT INTO PASSWORD_HISTORY (
    HISTORY_ID, USER_ID, PASSWORD, CHANGED_AT
)
SELECT 
    90001, u.USER_ID, 'old_password_123', SYSDATE - 30
FROM USERS u
WHERE u.USERNAME = 'kimcs' AND ROWNUM = 1;

INSERT INTO PASSWORD_HISTORY (
    HISTORY_ID, USER_ID, PASSWORD, CHANGED_AT
)
SELECT 
    90002, u.USER_ID, 'previous_password_456', SYSDATE - 15
FROM USERS u
WHERE u.USERNAME = 'leeyh' AND ROWNUM = 1;

-- ========================================
-- 9) WORKERS (작업자 정보) - 테스트용 데이터
-- ========================================
INSERT INTO WORKERS (
    WORKER_ID, USER_ID, WORKER_NAME, CURRENT_PROCESS, SKILL_LEVEL, WORK_SHIFT, CREATED_AT
)
SELECT 
    2001, u.USER_ID, '김철수', '혼합', 'EXPERT', 'DAY', SYSDATE
FROM USERS u
WHERE u.USERNAME = 'kimcs' AND ROWNUM = 1;

INSERT INTO WORKERS (
    WORKER_ID, USER_ID, WORKER_NAME, CURRENT_PROCESS, SKILL_LEVEL, WORK_SHIFT, CREATED_AT
)
SELECT 
    2002, u.USER_ID, '이영희', '성형', 'INTERMEDIATE', 'DAY', SYSDATE
FROM USERS u
WHERE u.USERNAME = 'leeyh' AND ROWNUM = 1;

INSERT INTO WORKERS (
    WORKER_ID, USER_ID, WORKER_NAME, CURRENT_PROCESS, SKILL_LEVEL, WORK_SHIFT, CREATED_AT
)
SELECT 
    2003, u.USER_ID, '박민수', '건조', 'EXPERT', 'NIGHT', SYSDATE
FROM USERS u
WHERE u.USERNAME = 'parkms' AND ROWNUM = 1;

-- ========================================
-- 10) WORK_ORDER (작업지시) - 테스트용 데이터
-- ========================================
INSERT INTO WORK_ORDER (
    WORK_ORDER_ID, ORDER_ID, PRODUCT_ID, WORK_ORDER_NO, WORK_ORDER_TYPE,
    PLANNED_QUANTITY, ACTUAL_QUANTITY, PRIORITY, STATUS,
    PLANNED_START_DATE, PLANNED_END_DATE, ACTUAL_START_DATE, ACTUAL_END_DATE,
    CREATED_BY, CREATED_AT, UPDATED_AT
)
SELECT 
    30001, o.ORDER_ID, p.PRODUCT_ID, 'WO-20250120-001', 'PRODUCTION',
    100, 20, 'NORMAL', 'IN_PROGRESS',
    TO_DATE('2025-01-20 09:00', 'YYYY-MM-DD HH24:MI'), TO_DATE('2025-01-21 18:00', 'YYYY-MM-DD HH24:MI'),
    TO_DATE('2025-01-20 09:10', 'YYYY-MM-DD HH24:MI'), NULL,
    u.USER_ID, SYSDATE, SYSDATE
FROM ORDERS o, PRODUCT p, USERS u
WHERE p.PRODUCT_NAME = '오이 천연비누'
  AND u.USERNAME = 'kimcs'
  AND ROWNUM = 1;

INSERT INTO WORK_ORDER (
    WORK_ORDER_ID, ORDER_ID, PRODUCT_ID, WORK_ORDER_NO, WORK_ORDER_TYPE,
    PLANNED_QUANTITY, ACTUAL_QUANTITY, PRIORITY, STATUS,
    PLANNED_START_DATE, PLANNED_END_DATE, ACTUAL_START_DATE, ACTUAL_END_DATE,
    CREATED_BY, CREATED_AT, UPDATED_AT
)
SELECT 
    30002, o.ORDER_ID, p.PRODUCT_ID, 'WO-20250120-002', 'PRODUCTION',
    150, 0, 'NORMAL', 'PLANNED',
    TO_DATE('2025-01-20 10:30', 'YYYY-MM-DD HH24:MI'), TO_DATE('2025-01-21 20:00', 'YYYY-MM-DD HH24:MI'),
    NULL, NULL,
    u.USER_ID, SYSDATE, SYSDATE
FROM ORDERS o, PRODUCT p, USERS u
WHERE p.PRODUCT_NAME = '오이 각질제거비누'
  AND u.USERNAME = 'leeyh'
  AND ROWNUM = 1;

-- ========================================
-- 11) WORK_ORDER_PROCESS (작업지시-공정 진행) - 테스트용 데이터
-- ========================================
INSERT INTO WORK_ORDER_PROCESS (
    WORK_ORDER_PROCESS_ID, WORK_ORDER_ID, PROCESS_SEQUENCE, PROCESS_NAME, PROCESS_CODE,
    PLANNED_QUANTITY, ACTUAL_QUANTITY, STANDARD_TIME, ACTUAL_TIME,
    EQUIPMENT_ID, EQUIPMENT_NAME, STATUS, START_TIME, END_TIME, CREATED_AT
)
SELECT 
    40001, wo.WORK_ORDER_ID, 1, '혼합', 'MIX',
    100, 100, 60, 55,
    'EQ001', '혼합기 A', 'COMPLETED',
    TO_DATE('2025-01-20 09:10', 'YYYY-MM-DD HH24:MI'), TO_DATE('2025-01-20 10:00', 'YYYY-MM-DD HH24:MI'),
    SYSDATE
FROM WORK_ORDER wo
WHERE wo.WORK_ORDER_NO = 'WO-20250120-001' AND ROWNUM = 1;

INSERT INTO WORK_ORDER_PROCESS (
    WORK_ORDER_PROCESS_ID, WORK_ORDER_ID, PROCESS_SEQUENCE, PROCESS_NAME, PROCESS_CODE,
    PLANNED_QUANTITY, ACTUAL_QUANTITY, STANDARD_TIME, ACTUAL_TIME,
    EQUIPMENT_ID, EQUIPMENT_NAME, STATUS, START_TIME, END_TIME, CREATED_AT
)
SELECT 
    40002, wo.WORK_ORDER_ID, 2, '성형', 'FORM',
    100, 20, 90, NULL,
    'EQ002', '성형기 B', 'IN_PROGRESS',
    TO_DATE('2025-01-20 10:10', 'YYYY-MM-DD HH24:MI'), NULL,
    SYSDATE
FROM WORK_ORDER wo
WHERE wo.WORK_ORDER_NO = 'WO-20250120-001' AND ROWNUM = 1;

-- ========================================
-- 12) WORK_ORDER_MATERIAL (작업지시-자재) - 테스트용 데이터
-- ========================================
INSERT INTO WORK_ORDER_MATERIAL (
    WORK_ORDER_MATERIAL_ID, WORK_ORDER_ID, RAW_LOT_ID, PLANNED_QUANTITY, ACTUAL_QUANTITY, STATUS, CREATED_AT
)
SELECT 
    50001, wo.WORK_ORDER_ID, rml.RAW_LOT_ID, 50.0, 48.5, 'USED', SYSDATE
FROM WORK_ORDER wo, RAW_MATERIAL_LOT rml, PRODUCT p
WHERE wo.WORK_ORDER_NO = 'WO-20250120-001'
  AND rml.PRODUCT_ID = p.PRODUCT_ID
  AND p.PRODUCT_NAME = '신선 오이'
  AND ROWNUM = 1;

INSERT INTO WORK_ORDER_MATERIAL (
    WORK_ORDER_MATERIAL_ID, WORK_ORDER_ID, RAW_LOT_ID, PLANNED_QUANTITY, ACTUAL_QUANTITY, STATUS, CREATED_AT
)
SELECT 
    50002, wo.WORK_ORDER_ID, rml.RAW_LOT_ID, 30.0, 29.8, 'USED', SYSDATE
FROM WORK_ORDER wo, RAW_MATERIAL_LOT rml, PRODUCT p
WHERE wo.WORK_ORDER_NO = 'WO-20250120-001'
  AND rml.PRODUCT_ID = p.PRODUCT_ID
  AND p.PRODUCT_NAME = '가성소다'
  AND ROWNUM = 1;

-- ========================================
-- 13) WORK_ORDER_WORKER (작업자 할당) - 테스트용 데이터
-- ========================================
INSERT INTO WORK_ORDER_WORKER (
    WORK_ORDER_WORKER_ID, WORK_ORDER_ID, WORK_ORDER_PROCESS_ID, WORKER_ID,
    ROLE, ASSIGNED_DATE, START_TIME, END_TIME, STATUS, CREATED_AT
)
SELECT 
    60001, wo.WORK_ORDER_ID, wop.WORK_ORDER_PROCESS_ID, w.WORKER_ID,
    'OPERATOR', SYSDATE, TO_DATE('2025-01-20 09:10', 'YYYY-MM-DD HH24:MI'), TO_DATE('2025-01-20 10:00', 'YYYY-MM-DD HH24:MI'), 'COMPLETED', SYSDATE
FROM WORK_ORDER wo, WORK_ORDER_PROCESS wop, WORKERS w
WHERE wo.WORK_ORDER_NO = 'WO-20250120-001'
  AND wop.PROCESS_NAME = '혼합'
  AND w.WORKER_NAME = '김철수'
  AND ROWNUM = 1;

INSERT INTO WORK_ORDER_WORKER (
    WORK_ORDER_WORKER_ID, WORK_ORDER_ID, WORK_ORDER_PROCESS_ID, WORKER_ID,
    ROLE, ASSIGNED_DATE, START_TIME, END_TIME, STATUS, CREATED_AT
)
SELECT 
    60002, wo.WORK_ORDER_ID, wop.WORK_ORDER_PROCESS_ID, w.WORKER_ID,
    'OPERATOR', SYSDATE, TO_DATE('2025-01-20 10:10', 'YYYY-MM-DD HH24:MI'), NULL, 'IN_PROGRESS', SYSDATE
FROM WORK_ORDER wo, WORK_ORDER_PROCESS wop, WORKERS w
WHERE wo.WORK_ORDER_NO = 'WO-20250120-001'
  AND wop.PROCESS_NAME = '성형'
  AND w.WORKER_NAME = '이영희'
  AND ROWNUM = 1;

COMMIT;


